{"version":3,"sources":["./src/app/cupones/cupones.page.html","./src/app/cupones/cupones-routing.module.ts","./src/app/cupones/cupones.module.ts","./src/app/cupones/cupones.page.scss","./src/app/cupones/cupones.page.ts","./src/app/servicios/cupones.service.ts"],"names":[],"mappings":"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","file":"cupones-cupones-module-es2015.js","sourcesContent":["export default \"<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"pantalla($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"contenedor\\\">\\r\\n    <div class=\\\"contenedor-titulo\\\">\\r\\n      <ion-label class=\\\"titulo\\\">Cupones</ion-label>\\r\\n    </div>\\r\\n    <div class=\\\"contenedor-cupones\\\" *ngFor=\\\"let cupones of cupon\\\">\\r\\n      <div class=\\\"agregar-imagen\\\" id=\\\"Cupon{{cupones.id}}\\\">\\r\\n        <img name=\\\"agregar\\\" src=\\\"../assets/img/agregar_2.png\\\" (click)=agregar(cupones.nombre,cupones.id)>\\r\\n      </div>\\r\\n      <div class=\\\"nombre\\\">{{cupones.nombre}}</div>\\r\\n      <div class=\\\"contenedor-imagen\\\" (click)=mostrar(cupones.id) id={{cupones.nombre}}>\\r\\n        <div class=\\\"descripcion\\\">{{cupones.descripcion}}</div>\\r\\n        <img class=\\\"imagen\\\" src=\\\"http://cabutoshop.pythonanywhere.com{{cupones.imagen}}\\\">\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<!--<img name=\\\"imagen\\\" src=\\\"../assets/img/cupon1.png\\\"  >-->\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CuponesPage } from './cupones.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CuponesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CuponesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CuponesPageRoutingModule } from './cupones-routing.module';\r\n\r\nimport { CuponesPage } from './cupones.page';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CuponesPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [CuponesPage]\r\n})\r\nexport class CuponesPageModule {}\r\n","export default \"ion-header {\\n  height: 10px;\\n  width: 100%;\\n}\\n\\n* {\\n  font-family: 'MyriadProSemibold' !important;\\n}\\n\\n.contenedor {\\n  padding: 20px 30px;\\n}\\n\\n.contenedor-titulo {\\n  font-weight: bold;\\n  display: flex;\\n  justify-content: center;\\n  align-items: baseline;\\n}\\n\\n.contenedor-titulo .titulo {\\n  color: var(--ion-color-azul-oscuro);\\n  font-size: larger;\\n  font-size: 1.5rem;\\n  margin-bottom: 0px;\\n}\\n\\n.contenedor-cupones {\\n  margin: 15px 0px;\\n  border: 2px dashed var(--ion-color-azul-oscuro);\\n  border-radius: 20px;\\n  padding: 10px;\\n}\\n\\n.contenedor-cupones .descripcion {\\n  align-self: flex-start;\\n  width: 40%;\\n}\\n\\n.contenedor-cupones .nombre {\\n  color: var(--ion-color-azul-oscuro);\\n  font-size: 20px;\\n  margin-bottom: 10px;\\n}\\n\\n.contenedor-imagen {\\n  padding-bottom: 0.5rem;\\n  z-index: 0;\\n  bottom: 0rem;\\n  height: 8rem;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.contenedor-imagen .imagen {\\n  height: 100%;\\n  overflow: hidden;\\n  margin: auto;\\n}\\n\\n.agregar-imagen {\\n  position: absolute;\\n  width: 50px;\\n  margin: 3rem auto;\\n  left: calc(50% - 30px);\\n  visibility: hidden;\\n  z-index: 1;\\n}\\n\\n/*\\r\\n.agregar:hover {\\r\\n    visibility: visible;\\r\\n  }*/\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY3Vwb25lcy9EOlxcZ2l0XFxDYWJ1dG9Gcm9udC9zcmNcXGFwcFxcY3Vwb25lc1xcY3Vwb25lcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2N1cG9uZXMvY3Vwb25lcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFZO0VBQ1osV0FBVztBQ0NmOztBREVBO0VBQ0ksMkNBQTJDO0FDQy9DOztBREVBO0VBQ0ksa0JBQWtCO0FDQ3RCOztBREVBO0VBRUksaUJBQWlCO0VBQ2pCLGFBQVk7RUFDWix1QkFBdUI7RUFDdkIscUJBQXFCO0FDQXpCOztBRExBO0VBT1EsbUNBQW1DO0VBQ25DLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsa0JBQWtCO0FDRTFCOztBREVBO0VBQ0ksZ0JBQWdCO0VBQ2hCLCtDQUErQztFQUMvQyxtQkFBbUI7RUFDbkIsYUFBYTtBQ0NqQjs7QURMQTtFQU1RLHNCQUFzQjtFQUN0QixVQUFVO0FDR2xCOztBRFZBO0VBVVEsbUNBQWtDO0VBQ2xDLGVBQWU7RUFDZixtQkFBbUI7QUNJM0I7O0FEQUE7RUFDSSxzQkFBc0I7RUFDdEIsVUFBVTtFQUNWLFlBQVk7RUFDWixZQUFZO0VBQ1osYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7QUNHdkI7O0FEVkE7RUFTUSxZQUFXO0VBQ1gsZ0JBQWU7RUFDZixZQUNKO0FDSUo7O0FEREE7RUFDSSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLFVBQVU7QUNJZDs7QUREQTs7O0lDTUkiLCJmaWxlIjoic3JjL2FwcC9jdXBvbmVzL2N1cG9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlcntcclxuICAgIGhlaWdodDogMTBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4qe1xyXG4gICAgZm9udC1mYW1pbHk6ICdNeXJpYWRQcm9TZW1pYm9sZCcgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNvbnRlbmVkb3J7XHJcbiAgICBwYWRkaW5nOiAyMHB4IDMwcHg7XHJcbn1cclxuXHJcbi5jb250ZW5lZG9yLXRpdHVsb3tcclxuICAgIFxyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIC50aXR1bG97XHJcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XHJcbiAgICAgICAgZm9udC1zaXplOiBsYXJnZXI7XHJcbiAgICAgICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uY29udGVuZWRvci1jdXBvbmVze1xyXG4gICAgbWFyZ2luOiAxNXB4IDBweDtcclxuICAgIGJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAuZGVzY3JpcGNpb257XHJcbiAgICAgICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcclxuICAgICAgICB3aWR0aDogNDAlO1xyXG4gICAgfVxyXG4gICAgLm5vbWJyZXtcclxuICAgICAgICBjb2xvcjp2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uY29udGVuZWRvci1pbWFnZW57XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xyXG4gICAgei1pbmRleDogMDtcclxuICAgIGJvdHRvbTogMHJlbTtcclxuICAgIGhlaWdodDogOHJlbTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgLmltYWdlbntcclxuICAgICAgICBoZWlnaHQ6MTAwJTtcclxuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgICAgbWFyZ2luOmF1dG9cclxuICAgIH1cclxufVxyXG5cclxuLmFncmVnYXItaW1hZ2Vue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbiAgICBtYXJnaW46IDNyZW0gYXV0bztcclxuICAgIGxlZnQ6IGNhbGMoNTAlIC0gMzBweCk7XHJcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4vKlxyXG4uYWdyZWdhcjpob3ZlciB7XHJcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gIH0qLyIsImlvbi1oZWFkZXIge1xuICBoZWlnaHQ6IDEwcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4qIHtcbiAgZm9udC1mYW1pbHk6ICdNeXJpYWRQcm9TZW1pYm9sZCcgIWltcG9ydGFudDtcbn1cblxuLmNvbnRlbmVkb3Ige1xuICBwYWRkaW5nOiAyMHB4IDMwcHg7XG59XG5cbi5jb250ZW5lZG9yLXRpdHVsbyB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xufVxuXG4uY29udGVuZWRvci10aXR1bG8gLnRpdHVsbyB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBmb250LXNpemU6IGxhcmdlcjtcbiAgZm9udC1zaXplOiAxLjVyZW07XG4gIG1hcmdpbi1ib3R0b206IDBweDtcbn1cblxuLmNvbnRlbmVkb3ItY3Vwb25lcyB7XG4gIG1hcmdpbjogMTVweCAwcHg7XG4gIGJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uY29udGVuZWRvci1jdXBvbmVzIC5kZXNjcmlwY2lvbiB7XG4gIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG4gIHdpZHRoOiA0MCU7XG59XG5cbi5jb250ZW5lZG9yLWN1cG9uZXMgLm5vbWJyZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBmb250LXNpemU6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5jb250ZW5lZG9yLWltYWdlbiB7XG4gIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XG4gIHotaW5kZXg6IDA7XG4gIGJvdHRvbTogMHJlbTtcbiAgaGVpZ2h0OiA4cmVtO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5jb250ZW5lZG9yLWltYWdlbiAuaW1hZ2VuIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5hZ3JlZ2FyLWltYWdlbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDUwcHg7XG4gIG1hcmdpbjogM3JlbSBhdXRvO1xuICBsZWZ0OiBjYWxjKDUwJSAtIDMwcHgpO1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIHotaW5kZXg6IDE7XG59XG5cbi8qXHJcbi5hZ3JlZ2FyOmhvdmVyIHtcclxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbiAgfSovXG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport {login} from  './../global'\r\nimport 'rxjs/add/operator/map';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, LoadingController,ModalController} from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport {ShoppingCartService} from '../servicios/shopping-cart.service';\r\nimport {CorrectoPage} from '../aviso/correcto/correcto.page';\r\nimport {IncorrectoPage} from '../aviso/incorrecto/incorrecto.page';\r\nimport {CuponesService} from '../servicios/cupones.service';\r\ndeclare var window;\r\n\r\n@Component({\r\n  selector: 'app-cupones',\r\n  templateUrl: './cupones.page.html',\r\n  styleUrls: ['./cupones.page.scss'],\r\n})\r\nexport class CuponesPage implements OnInit {\r\n\r\n  cupon : {};\r\n  url= '' ;\r\n  valor = 0;\r\n  private correo:String=\"\";\r\n  constructor(public cuponesService: CuponesService, private  router:  Router,private alert: AlertController,\r\n    public loadingCtrl: LoadingController,\r\n    private storage: Storage,\r\n    public modalCtrl: ModalController,\r\n    private shoppingCart: ShoppingCartService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  \r\n  ionViewWillEnter(){\r\n    this.cargaPantalla()\r\n\r\n  }\r\n\r\n  pantalla(event){\r\n    console.log(\"refresh\");\r\n     this.cuponesService.getCupon().subscribe(data => {\r\n       //console.log(\"esta es la data \"+data[\"nombre\"])\r\n       this.cupon=data;\r\n       var tol =Object.entries(this.cupon).length\r\n       console.log(this.cupon);\r\n       console.log(tol)\r\n       if(tol==0){\r\n        this.mensajeIncorrecto(\"No existen cupones disponibles\",\"Agregaramos nuevos más adelante\");\r\n       }\r\n       if (event)\r\n          event.target.complete();\r\n       },(error)=>{\r\n         console.log(\"algo salio mal\")\r\n         this.mensajeIncorrecto(\"Algo salió mal\",\"error de conexión\");\r\n         console.error(error);\r\n         if (event)\r\n          event.target.complete();\r\n       }) \r\n  }\r\n  \r\n  cargaPantalla() {  \r\n    this.loadingCtrl.create({  \r\n      message: 'Loading.....'   \r\n    }).then((loading) => {  \r\n      loading.present();{\r\n        this.pantalla(null);\r\n    } \r\n    setTimeout(() => {   \r\n      loading.dismiss();  \r\n    }, 1000 );   \r\n    });  \r\n    } \r\n\r\n  async mensajeCorrecto(titulo:string,mensaje:string){\r\n    const modal = await this.modalCtrl.create({\r\n      component: CorrectoPage,\r\n      cssClass: 'CorrectoProducto',\r\n      componentProps: {\r\n        'titulo': titulo,\r\n        'mensaje': mensaje\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  async mensajeIncorrecto(titulo:string,mensaje:string){\r\n    const modal = await this.modalCtrl.create({\r\n      component: IncorrectoPage,\r\n      cssClass: 'IncorrectoProducto',\r\n      componentProps: {\r\n        'titulo': titulo,\r\n        'mensaje': mensaje\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  getProductLen(){\r\n    var pindex=0;\r\n    for(let p in this.cupon){\r\n      pindex=+p+1;\r\n    }\r\n    return pindex;\r\n  }\r\n\r\n\r\n  getNombre(id:string){\r\n    for (let i=0; i< this.getProductLen(); i++){\r\n      if(id===this.cupon[i]['id']){\r\n        return this.cupon[i]['nombre'];\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  agregar(id:string,id2:string){\r\n    this.getCorreo();\r\n    var doc=document.getElementById(id)\r\n    var doc2=document.getElementById(\"Cupon\"+id2)\r\n    doc2.style.visibility = \"hidden\";\r\n    this.storage.get('name').then((nombre) => {\r\n      console.log('Name is', nombre);\r\n      if(login.login ==false && nombre == null ){\r\n        login.producto = true;\r\n        this.router.navigateByUrl('/login');  \r\n      }else{\r\n        var cantidad = \"1\";\r\n        console.log(\"La cantidad que se agrega al carrito es: \", cantidad);\r\n        if(parseInt(cantidad) > 0){\r\n          const cupxcant={\r\n            'nombre': id,\r\n            'cantidad': parseInt(cantidad),\r\n            'correo': this.correo\r\n          }\r\n          this.shoppingCart.addCupon(cupxcant).subscribe(data =>{\r\n            if(data.valid == \"OK\"){\r\n              this.mensajeCorrecto(\"Cupón Agregado\",\"Cupón Agregado Exitosamente\");\r\n            }else if (data.valid == \"IN\"){\r\n              this.mensajeIncorrecto(\"Agregar Cupón\",\"Cupón ya existe en carrito\");\r\n            }else if (data.valid == \"NOT\"){\r\n              this.mensajeIncorrecto(\"Agregar Cupón\",\"Ha ocurrido un error, revise su conexión\");\r\n\r\n            }\r\n          })\r\n          window.footer.datos();\r\n        }else{\r\n          this.mensajeIncorrecto(\"Agregar Cupón\",\"No ha escogido la cantidad para agregar\");\r\n        }\r\n      }\r\n      });\r\n\r\n\r\n  }\r\n\r\n  getCorreo(){\r\n    console.log(login.login)  \r\n\t\tthis.storage.get('correo').then((val) => {\r\n      this.correo=val;\r\n      console.log('name: ',this.correo);\r\n      \r\n  });\r\n}\r\n\r\n  mostrar(id:string){\r\n    console.log(\"esto en mostrar y el id que tengo es\",id)\r\n    var doc=document.getElementById(\"Cupon\"+id)\r\n    console.log(doc)\r\n    console.log(doc.style.visibility)\r\n    if(doc.style.visibility === \"visible\"){\r\n      doc.style.visibility = \"hidden\";\r\n    }else{\r\n      doc.style.visibility = \"visible\";\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n      \"Accept\": \"application/json, text/plain\",\r\n      \"Content-Type\": \"application/x-www-form-urlencoded; charset=utf-8\", \r\n      \"cache-control\": \"no-cache\", \r\n      \"Access-Control-Allow-Origin\": \"*\", \r\n      \"Access-Control-Allow-Headers\": \"Origin, Content-Type, X-Auth-Token, Accept, Authorization, X-Request-With, Access-Control-Request-Method, Access-Control-Request-Headers\",\r\n      \"Access-Control-Allow-Credentials\" : \"true\",\r\n      \"Access-Control-Allow-Methods\" : \"GET, POST, DELETE, PUT, OPTIONS, TRACE, PATCH, CONNECT\",  \r\n    })\r\n };\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CuponesService {\r\n\r\n  baseUrl :string= \"https://cabutoshop.pythonanywhere.com/movil/\";\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getCupon() {\r\n    const headers = {\r\n      'Accept': 'application/json, text/plain',\r\n      'Content-Type': 'application/json'\r\n    }\r\n\r\n   return this.http.get(this.baseUrl+'cupones/',{headers:headers})      \r\n\r\n }\r\n}\r\n"],"sourceRoot":"webpack:///"}
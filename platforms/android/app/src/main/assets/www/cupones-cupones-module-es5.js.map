{"version":3,"sources":["webpack:///src/app/cupones/cupones.page.html","webpack:///src/app/cupones/cupones-routing.module.ts","webpack:///src/app/cupones/cupones.module.ts","webpack:///src/app/cupones/cupones.page.scss","webpack:///src/app/cupones/cupones.page.ts","webpack:///src/app/servicios/cupones.service.ts"],"names":["routes","path","component","CuponesPageRoutingModule","imports","forChild","exports","CuponesPageModule","declarations","CuponesPage","cuponesService","router","alert","loadingCtrl","storage","modalCtrl","shoppingCart","url","valor","correo","cargaPantalla","event","console","log","getCupon","subscribe","data","cupon","tol","Object","entries","length","mensajeIncorrecto","target","complete","error","create","message","then","loading","present","pantalla","setTimeout","dismiss","titulo","mensaje","cssClass","componentProps","modal","pindex","p","id","i","getProductLen","id2","getCorreo","doc","document","getElementById","doc2","style","visibility","get","nombre","login","producto","navigateByUrl","cantidad","parseInt","cupxcant","addCupon","valid","mensajeCorrecto","window","footer","datos","val","selector","template","httpOptions","headers","CuponesService","http","baseUrl","providedIn"],"mappings":"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","file":"cupones-cupones-module-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"pantalla($event)\\\">\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n  <div class=\\\"contenedor\\\">\\r\\n    <div class=\\\"contenedor-titulo\\\">\\r\\n      <ion-label class=\\\"titulo\\\">Cupones</ion-label>\\r\\n    </div>\\r\\n    <div class=\\\"contenedor-cupones\\\" *ngFor=\\\"let cupones of cupon\\\">\\r\\n      <div class=\\\"agregar-imagen\\\" id=\\\"Cupon{{cupones.id}}\\\">\\r\\n        <img name=\\\"agregar\\\" src=\\\"../assets/img/agregar_2.png\\\" (click)=agregar(cupones.nombre,cupones.id)>\\r\\n      </div>\\r\\n      <div class=\\\"nombre\\\">{{cupones.nombre}}</div>\\r\\n      <div class=\\\"contenedor-imagen\\\" (click)=mostrar(cupones.id) id={{cupones.nombre}}>\\r\\n        <div class=\\\"descripcion\\\">{{cupones.descripcion}}</div>\\r\\n        <img class=\\\"imagen\\\" src=\\\"http://cabutoshop.pythonanywhere.com{{cupones.imagen}}\\\">\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<!--<img name=\\\"imagen\\\" src=\\\"../assets/img/cupon1.png\\\"  >-->\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CuponesPage } from './cupones.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CuponesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CuponesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CuponesPageRoutingModule } from './cupones-routing.module';\r\n\r\nimport { CuponesPage } from './cupones.page';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CuponesPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [CuponesPage]\r\n})\r\nexport class CuponesPageModule {}\r\n","export default \"ion-header {\\n  height: 10px;\\n  width: 100%;\\n}\\n\\n* {\\n  font-family: 'MyriadProSemibold' !important;\\n}\\n\\n.contenedor {\\n  padding: 20px 30px;\\n}\\n\\n.contenedor-titulo {\\n  font-weight: bold;\\n  display: flex;\\n  justify-content: center;\\n  align-items: baseline;\\n}\\n\\n.contenedor-titulo .titulo {\\n  color: var(--ion-color-azul-oscuro);\\n  font-size: larger;\\n  font-size: 1.5rem;\\n  margin-bottom: 0px;\\n}\\n\\n.contenedor-cupones {\\n  margin: 15px 0px;\\n  border: 2px dashed var(--ion-color-azul-oscuro);\\n  border-radius: 20px;\\n  padding: 10px;\\n}\\n\\n.contenedor-cupones .descripcion {\\n  align-self: flex-start;\\n  width: 40%;\\n}\\n\\n.contenedor-cupones .nombre {\\n  color: var(--ion-color-azul-oscuro);\\n  font-size: 20px;\\n  margin-bottom: 10px;\\n}\\n\\n.contenedor-imagen {\\n  padding-bottom: 0.5rem;\\n  z-index: 0;\\n  bottom: 0rem;\\n  height: 8rem;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.contenedor-imagen .imagen {\\n  height: 100%;\\n  overflow: hidden;\\n  margin: auto;\\n}\\n\\n.agregar-imagen {\\n  position: absolute;\\n  width: 50px;\\n  margin: 3rem auto;\\n  left: calc(50% - 30px);\\n  visibility: hidden;\\n  z-index: 1;\\n}\\n\\n/*\\r\\n.agregar:hover {\\r\\n    visibility: visible;\\r\\n  }*/\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY3Vwb25lcy9EOlxcZ2l0XFxDYWJ1dG9Gcm9udC9zcmNcXGFwcFxcY3Vwb25lc1xcY3Vwb25lcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2N1cG9uZXMvY3Vwb25lcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFZO0VBQ1osV0FBVztBQ0NmOztBREVBO0VBQ0ksMkNBQTJDO0FDQy9DOztBREVBO0VBQ0ksa0JBQWtCO0FDQ3RCOztBREVBO0VBRUksaUJBQWlCO0VBQ2pCLGFBQVk7RUFDWix1QkFBdUI7RUFDdkIscUJBQXFCO0FDQXpCOztBRExBO0VBT1EsbUNBQW1DO0VBQ25DLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsa0JBQWtCO0FDRTFCOztBREVBO0VBQ0ksZ0JBQWdCO0VBQ2hCLCtDQUErQztFQUMvQyxtQkFBbUI7RUFDbkIsYUFBYTtBQ0NqQjs7QURMQTtFQU1RLHNCQUFzQjtFQUN0QixVQUFVO0FDR2xCOztBRFZBO0VBVVEsbUNBQWtDO0VBQ2xDLGVBQWU7RUFDZixtQkFBbUI7QUNJM0I7O0FEQUE7RUFDSSxzQkFBc0I7RUFDdEIsVUFBVTtFQUNWLFlBQVk7RUFDWixZQUFZO0VBQ1osYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7QUNHdkI7O0FEVkE7RUFTUSxZQUFXO0VBQ1gsZ0JBQWU7RUFDZixZQUNKO0FDSUo7O0FEREE7RUFDSSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLGlCQUFpQjtFQUNqQixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLFVBQVU7QUNJZDs7QUREQTs7O0lDTUkiLCJmaWxlIjoic3JjL2FwcC9jdXBvbmVzL2N1cG9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlcntcclxuICAgIGhlaWdodDogMTBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4qe1xyXG4gICAgZm9udC1mYW1pbHk6ICdNeXJpYWRQcm9TZW1pYm9sZCcgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNvbnRlbmVkb3J7XHJcbiAgICBwYWRkaW5nOiAyMHB4IDMwcHg7XHJcbn1cclxuXHJcbi5jb250ZW5lZG9yLXRpdHVsb3tcclxuICAgIFxyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcclxuICAgIC50aXR1bG97XHJcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XHJcbiAgICAgICAgZm9udC1zaXplOiBsYXJnZXI7XHJcbiAgICAgICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uY29udGVuZWRvci1jdXBvbmVze1xyXG4gICAgbWFyZ2luOiAxNXB4IDBweDtcclxuICAgIGJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAuZGVzY3JpcGNpb257XHJcbiAgICAgICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcclxuICAgICAgICB3aWR0aDogNDAlO1xyXG4gICAgfVxyXG4gICAgLm5vbWJyZXtcclxuICAgICAgICBjb2xvcjp2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uY29udGVuZWRvci1pbWFnZW57XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xyXG4gICAgei1pbmRleDogMDtcclxuICAgIGJvdHRvbTogMHJlbTtcclxuICAgIGhlaWdodDogOHJlbTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgLmltYWdlbntcclxuICAgICAgICBoZWlnaHQ6MTAwJTtcclxuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgICAgbWFyZ2luOmF1dG9cclxuICAgIH1cclxufVxyXG5cclxuLmFncmVnYXItaW1hZ2Vue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbiAgICBtYXJnaW46IDNyZW0gYXV0bztcclxuICAgIGxlZnQ6IGNhbGMoNTAlIC0gMzBweCk7XHJcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4vKlxyXG4uYWdyZWdhcjpob3ZlciB7XHJcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gIH0qLyIsImlvbi1oZWFkZXIge1xuICBoZWlnaHQ6IDEwcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4qIHtcbiAgZm9udC1mYW1pbHk6ICdNeXJpYWRQcm9TZW1pYm9sZCcgIWltcG9ydGFudDtcbn1cblxuLmNvbnRlbmVkb3Ige1xuICBwYWRkaW5nOiAyMHB4IDMwcHg7XG59XG5cbi5jb250ZW5lZG9yLXRpdHVsbyB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xufVxuXG4uY29udGVuZWRvci10aXR1bG8gLnRpdHVsbyB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBmb250LXNpemU6IGxhcmdlcjtcbiAgZm9udC1zaXplOiAxLjVyZW07XG4gIG1hcmdpbi1ib3R0b206IDBweDtcbn1cblxuLmNvbnRlbmVkb3ItY3Vwb25lcyB7XG4gIG1hcmdpbjogMTVweCAwcHg7XG4gIGJvcmRlcjogMnB4IGRhc2hlZCB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uY29udGVuZWRvci1jdXBvbmVzIC5kZXNjcmlwY2lvbiB7XG4gIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG4gIHdpZHRoOiA0MCU7XG59XG5cbi5jb250ZW5lZG9yLWN1cG9uZXMgLm5vbWJyZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBmb250LXNpemU6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5jb250ZW5lZG9yLWltYWdlbiB7XG4gIHBhZGRpbmctYm90dG9tOiAwLjVyZW07XG4gIHotaW5kZXg6IDA7XG4gIGJvdHRvbTogMHJlbTtcbiAgaGVpZ2h0OiA4cmVtO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5jb250ZW5lZG9yLWltYWdlbiAuaW1hZ2VuIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5hZ3JlZ2FyLWltYWdlbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDUwcHg7XG4gIG1hcmdpbjogM3JlbSBhdXRvO1xuICBsZWZ0OiBjYWxjKDUwJSAtIDMwcHgpO1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIHotaW5kZXg6IDE7XG59XG5cbi8qXHJcbi5hZ3JlZ2FyOmhvdmVyIHtcclxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbiAgfSovXG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport {login} from  './../global'\r\nimport 'rxjs/add/operator/map';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, LoadingController,ModalController} from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport {ShoppingCartService} from '../servicios/shopping-cart.service';\r\nimport {CorrectoPage} from '../aviso/correcto/correcto.page';\r\nimport {IncorrectoPage} from '../aviso/incorrecto/incorrecto.page';\r\nimport {CuponesService} from '../servicios/cupones.service';\r\ndeclare var window;\r\n\r\n@Component({\r\n  selector: 'app-cupones',\r\n  templateUrl: './cupones.page.html',\r\n  styleUrls: ['./cupones.page.scss'],\r\n})\r\nexport class CuponesPage implements OnInit {\r\n\r\n  cupon : {};\r\n  url= '' ;\r\n  valor = 0;\r\n  private correo:String=\"\";\r\n  constructor(public cuponesService: CuponesService, private  router:  Router,private alert: AlertController,\r\n    public loadingCtrl: LoadingController,\r\n    private storage: Storage,\r\n    public modalCtrl: ModalController,\r\n    private shoppingCart: ShoppingCartService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  \r\n  ionViewWillEnter(){\r\n    this.cargaPantalla()\r\n\r\n  }\r\n\r\n  pantalla(event){\r\n    console.log(\"refresh\");\r\n     this.cuponesService.getCupon().subscribe(data => {\r\n       //console.log(\"esta es la data \"+data[\"nombre\"])\r\n       this.cupon=data;\r\n       var tol =Object.entries(this.cupon).length\r\n       console.log(this.cupon);\r\n       console.log(tol)\r\n       if(tol==0){\r\n        this.mensajeIncorrecto(\"No existen cupones disponibles\",\"Agregaramos nuevos más adelante\");\r\n       }\r\n       if (event)\r\n          event.target.complete();\r\n       },(error)=>{\r\n         console.log(\"algo salio mal\")\r\n         this.mensajeIncorrecto(\"Algo salió mal\",\"error de conexión\");\r\n         console.error(error);\r\n         if (event)\r\n          event.target.complete();\r\n       }) \r\n  }\r\n  \r\n  cargaPantalla() {  \r\n    this.loadingCtrl.create({  \r\n      message: 'Loading.....'   \r\n    }).then((loading) => {  \r\n      loading.present();{\r\n        this.pantalla(null);\r\n    } \r\n    setTimeout(() => {   \r\n      loading.dismiss();  \r\n    }, 1000 );   \r\n    });  \r\n    } \r\n\r\n  async mensajeCorrecto(titulo:string,mensaje:string){\r\n    const modal = await this.modalCtrl.create({\r\n      component: CorrectoPage,\r\n      cssClass: 'CorrectoProducto',\r\n      componentProps: {\r\n        'titulo': titulo,\r\n        'mensaje': mensaje\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  async mensajeIncorrecto(titulo:string,mensaje:string){\r\n    const modal = await this.modalCtrl.create({\r\n      component: IncorrectoPage,\r\n      cssClass: 'IncorrectoProducto',\r\n      componentProps: {\r\n        'titulo': titulo,\r\n        'mensaje': mensaje\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  getProductLen(){\r\n    var pindex=0;\r\n    for(let p in this.cupon){\r\n      pindex=+p+1;\r\n    }\r\n    return pindex;\r\n  }\r\n\r\n\r\n  getNombre(id:string){\r\n    for (let i=0; i< this.getProductLen(); i++){\r\n      if(id===this.cupon[i]['id']){\r\n        return this.cupon[i]['nombre'];\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  agregar(id:string,id2:string){\r\n    this.getCorreo();\r\n    var doc=document.getElementById(id)\r\n    var doc2=document.getElementById(\"Cupon\"+id2)\r\n    doc2.style.visibility = \"hidden\";\r\n    this.storage.get('name').then((nombre) => {\r\n      console.log('Name is', nombre);\r\n      if(login.login ==false && nombre == null ){\r\n        login.producto = true;\r\n        this.router.navigateByUrl('/login');  \r\n      }else{\r\n        var cantidad = \"1\";\r\n        console.log(\"La cantidad que se agrega al carrito es: \", cantidad);\r\n        if(parseInt(cantidad) > 0){\r\n          const cupxcant={\r\n            'nombre': id,\r\n            'cantidad': parseInt(cantidad),\r\n            'correo': this.correo\r\n          }\r\n          this.shoppingCart.addCupon(cupxcant).subscribe(data =>{\r\n            if(data.valid == \"OK\"){\r\n              this.mensajeCorrecto(\"Cupón Agregado\",\"Cupón Agregado Exitosamente\");\r\n            }else if (data.valid == \"IN\"){\r\n              this.mensajeIncorrecto(\"Agregar Cupón\",\"Cupón ya existe en carrito\");\r\n            }else if (data.valid == \"NOT\"){\r\n              this.mensajeIncorrecto(\"Agregar Cupón\",\"Ha ocurrido un error, revise su conexión\");\r\n\r\n            }\r\n          })\r\n          window.footer.datos();\r\n        }else{\r\n          this.mensajeIncorrecto(\"Agregar Cupón\",\"No ha escogido la cantidad para agregar\");\r\n        }\r\n      }\r\n      });\r\n\r\n\r\n  }\r\n\r\n  getCorreo(){\r\n    console.log(login.login)  \r\n\t\tthis.storage.get('correo').then((val) => {\r\n      this.correo=val;\r\n      console.log('name: ',this.correo);\r\n      \r\n  });\r\n}\r\n\r\n  mostrar(id:string){\r\n    console.log(\"esto en mostrar y el id que tengo es\",id)\r\n    var doc=document.getElementById(\"Cupon\"+id)\r\n    console.log(doc)\r\n    console.log(doc.style.visibility)\r\n    if(doc.style.visibility === \"visible\"){\r\n      doc.style.visibility = \"hidden\";\r\n    }else{\r\n      doc.style.visibility = \"visible\";\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n      \"Accept\": \"application/json, text/plain\",\r\n      \"Content-Type\": \"application/x-www-form-urlencoded; charset=utf-8\", \r\n      \"cache-control\": \"no-cache\", \r\n      \"Access-Control-Allow-Origin\": \"*\", \r\n      \"Access-Control-Allow-Headers\": \"Origin, Content-Type, X-Auth-Token, Accept, Authorization, X-Request-With, Access-Control-Request-Method, Access-Control-Request-Headers\",\r\n      \"Access-Control-Allow-Credentials\" : \"true\",\r\n      \"Access-Control-Allow-Methods\" : \"GET, POST, DELETE, PUT, OPTIONS, TRACE, PATCH, CONNECT\",  \r\n    })\r\n };\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CuponesService {\r\n\r\n  baseUrl :string= \"https://cabutoshop.pythonanywhere.com/movil/\";\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getCupon() {\r\n    const headers = {\r\n      'Accept': 'application/json, text/plain',\r\n      'Content-Type': 'application/json'\r\n    }\r\n\r\n   return this.http.get(this.baseUrl+'cupones/',{headers:headers})      \r\n\r\n }\r\n}\r\n"]}
{"version":3,"sources":["./src/app/historial/detalle-historial/detalle-historial.page.html","./src/app/historial/detalle-historial/detalle-historial-routing.module.ts","./src/app/historial/detalle-historial/detalle-historial.module.ts","./src/app/historial/detalle-historial/detalle-historial.page.scss","./src/app/historial/detalle-historial/detalle-historial.page.ts"],"names":[],"mappings":"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","file":"default~detalle-historial-detalle-historial-module~historial-detalle-historial-detalle-historial-module-es2015.js","sourcesContent":["export default \"<div class=\\\"contenedor-page\\\">\\r\\n  <ion-label ion-fixed class=\\\"titulo\\\">Historial de compras</ion-label>\\r\\n  <div class=\\\"contenedor\\\" *ngIf=\\\"historial\\\">\\r\\n    <div class=\\\"contener-historial\\\">\\r\\n      <div class=\\\"div-historial\\\">\\r\\n        <div class=\\\"contener-columnaI\\\">\\r\\n          <img src=\\\"../assets/img/atras.png\\\" (click)=\\\"regresar()\\\">\\r\\n        </div>\\r\\n        <div class=\\\"contener-columna\\\">\\r\\n          <h6 class=\\\"nombre-historial\\\">Compra</h6>\\r\\n          <h6 class=\\\"nombre-historial\\\">{{ historial.fecha | date:'dd/MM/yyyy' }}</h6>\\r\\n          <h6 class=\\\"nombre-historial\\\">${{ historial.total | number : '1.2-2' }}</h6>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<ion-content>\\r\\n  <div class=\\\"contenedor-page\\\">\\r\\n    <div *ngIf=\\\"historial\\\">\\r\\n      <div class=\\\"contener-datos\\\">\\r\\n        <div class=\\\"campos\\\" *ngIf=\\\"perfil\\\">\\r\\n          <ion-label class=\\\"left\\\">Nombres: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{perfil.nombre}} {{perfil.apellido}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"campos\\\" *ngIf=\\\"perfil\\\">\\r\\n          <ion-label class=\\\"left\\\">Cedula: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{perfil.cedula}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"campos\\\" *ngIf=\\\"perfil\\\">\\r\\n          <ion-label class=\\\"left\\\">Teléfono: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{perfil.telefono}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"campos\\\">\\r\\n          <ion-label class=\\\"left\\\">Fecha: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{ historial.fecha | date:'dd/MM/yyyy' }}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"campos\\\">\\r\\n          <ion-label class=\\\"left\\\">Tipo de entrega: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{historial.tipo_entrega}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"campos\\\">\\r\\n          <ion-label class=\\\"left\\\">Tipo de pago: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{historial.tipo_pago}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"campos\\\">\\r\\n          <ion-label class=\\\"left\\\">Descripción: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">{{historial.observacion}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"div-producto\\\" *ngFor=\\\"let producto of productos\\\">\\r\\n          <div class=\\\"contenedor-columna\\\">\\r\\n            <div class=\\\"nombre-producto\\\">{{producto.producto__nombre}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contenedor-centro\\\">\\r\\n            <div id=\\\"\\\" class=\\\"cantidad\\\">{{producto.cantidad}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contener-columna-centrar\\\">\\r\\n            <div class=\\\"precio\\\">\\r\\n              ${{producto.precio | number : '1.2-2'}}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"div-producto\\\" *ngFor=\\\"let producto of ofertas\\\">\\r\\n          <div class=\\\"contenedor-columna\\\">\\r\\n            <div class=\\\"nombre-producto\\\">{{producto.oferta__nombre}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contenedor-centro\\\">\\r\\n            <div id=\\\"\\\" class=\\\"cantidad\\\">{{producto.cantidad}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contener-columna-centrar\\\">\\r\\n            <div class=\\\"precio\\\">\\r\\n              ${{producto.precio | number : '1.2-2'}}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"div-producto\\\" *ngFor=\\\"let producto of combos\\\">\\r\\n          <div class=\\\"contenedor-columna\\\">\\r\\n            <div class=\\\"nombre-producto\\\">{{producto.combo__nombre}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contenedor-centro\\\">\\r\\n            <div id=\\\"\\\" class=\\\"cantidad\\\">{{producto.cantidad}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contener-columna-centrar\\\">\\r\\n            <div class=\\\"precio\\\">\\r\\n              ${{producto.precio | number : '1.2-2'}}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"div-producto\\\" *ngFor=\\\"let producto of cupones\\\">\\r\\n          <div class=\\\"contenedor-columna\\\">\\r\\n            <div class=\\\"nombre-producto\\\">{{producto.cupon__nombre}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contenedor-centro\\\">\\r\\n            <div id=\\\"\\\" class=\\\"cantidad\\\">{{producto.cantidad}}</div>\\r\\n          </div>\\r\\n          <div class=\\\"contener-columna-centrar\\\">\\r\\n            <div class=\\\"precio\\\">\\r\\n              ${{producto.precio | number : '1.2-2'}}\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"valores\\\">\\r\\n          <ion-label class=\\\"left\\\">Subtotal: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">${{historial.subtotal | number : '1.2-2'}} </ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"valores\\\">\\r\\n          <ion-label class=\\\"left\\\">Delivery: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">${{historial.envio | number : '1.2-2'}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"valores\\\">\\r\\n          <ion-label class=\\\"left\\\">Impuestos: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">${{historial.iva | number : '1.2-2'}}</ion-label>\\r\\n        </div>\\r\\n        <div class=\\\"valores\\\">\\r\\n          <ion-label class=\\\"left\\\">Total: </ion-label>\\r\\n          <ion-label class=\\\"right\\\">${{ historial.total | number : '1.2-2' }}</ion-label>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"button-content\\\">\\r\\n        <ion-button class=\\\"btn-cancelar\\\" size=\\\"large\\\" *ngIf=\\\"historial.estado != 'Anulado'\\\" (click)=\\\"anular(historial.id_pedido, historial.cliente_id)\\\">\\r\\n          <p class=\\\"registro\\\">Anular</p>\\r\\n        </ion-button>\\r\\n        <ion-button class=\\\"btn-registro\\\" size=\\\"large\\\" *ngIf=\\\"historial.tipo_pago == 'Tarjeta' && !historial.pagado && historial.estado != 'Anulado'\\\" (click)=\\\"pagar(historial.id_pedido)\\\">\\r\\n          <p class=\\\"registro\\\">Pagar</p>\\r\\n        </ion-button>\\r\\n        <ion-button class=\\\"btn-registro\\\" size=\\\"large\\\" *ngIf=\\\"historial.estado == 'Entregado'\\\" (click)=\\\"calificar(historial.id_pedido)\\\">\\r\\n          <p class=\\\"registro\\\">Calificar</p>\\r\\n        </ion-button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DetalleHistorialPage } from './detalle-historial.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetalleHistorialPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DetalleHistorialPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DetalleHistorialPageRoutingModule } from './detalle-historial-routing.module';\r\n\r\nimport { DetalleHistorialPage } from './detalle-historial.page';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DetalleHistorialPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [DetalleHistorialPage]\r\n})\r\nexport class DetalleHistorialPageModule {}\r\n","export default \"* {\\n  font-family: 'MyriadProSemibold' !important;\\n}\\n\\n.contenedor-page {\\n  padding: 6px 30px;\\n  background: white;\\n}\\n\\n.contenedor {\\n  margin: 15px 0px 0px 0px;\\n}\\n\\n.titulo {\\n  font-weight: bold;\\n  font-size: larger;\\n  color: var(--ion-color-azul-oscuro);\\n  font-size: 1.5rem;\\n  margin-bottom: 0px;\\n}\\n\\n.div-historial {\\n  display: flex;\\n  align-items: center;\\n  box-shadow: 3px 3px 3px 3px #c2c2c2;\\n  border-radius: 15px;\\n  height: 65px;\\n  margin: auto;\\n  justify-content: center;\\n}\\n\\n.btn-establecimiento {\\n  vertical-align: middle;\\n}\\n\\n.contener-historial {\\n  padding: 7px 0px;\\n}\\n\\n.contener-columnaI {\\n  justify-content: flex-start;\\n  display: flex;\\n  width: 20%;\\n}\\n\\n.contener-columnaI img {\\n  width: 2.2rem;\\n}\\n\\n.contener-columna {\\n  justify-content: space-between;\\n  display: flex;\\n  width: 65%;\\n}\\n\\n.contener-columna .nombre-historial {\\n  font-weight: bold;\\n  font-size: 14px;\\n  color: var(--ion-color-azul-oscuro);\\n  margin-bottom: 2px;\\n  margin-top: 0px;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\n.campos {\\n  display: table;\\n  margin: 5px auto;\\n}\\n\\n.campos .left {\\n  text-align: left;\\n  font-size: 3vw;\\n  color: gray;\\n  width: 20rem;\\n  padding-right: 10px;\\n}\\n\\n.campos .right {\\n  text-align: left;\\n  width: 65%;\\n  padding-left: 10px;\\n  font-size: 4vw;\\n  color: var(--ion-color-azul-oscuro);\\n}\\n\\n.campos > ion-label {\\n  display: table-cell;\\n}\\n\\n.valores {\\n  display: table;\\n  margin: 5px auto;\\n}\\n\\n.valores .left {\\n  text-align: right;\\n  font-size: 3vw;\\n  color: var(--ion-color-naranja-oscuro);\\n  width: 75%;\\n  padding-right: 10px;\\n}\\n\\n.valores .right {\\n  text-align: left;\\n  width: 20rem;\\n  padding-left: 10px;\\n  font-size: 4vw;\\n  color: var(--ion-color-azul-oscuro);\\n}\\n\\n.valores > ion-label {\\n  display: table-cell;\\n}\\n\\n.contener-datos {\\n  margin: 10px 20px;\\n}\\n\\n.contenedor-centro {\\n  width: 20%;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.contenedor-centro .cantidad {\\n  width: 20px !important;\\n  height: 20px !important;\\n  border-radius: 5px;\\n  border: solid 1px gray;\\n  font-size: 13px;\\n  text-align: center !important;\\n  color: var(--ion-color-azul-oscuro);\\n}\\n\\n.div-producto {\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: space-around;\\n  align-items: center;\\n  padding: 0px 20px;\\n  border-radius: 15px;\\n  height: 80px;\\n  border: 2px solid var(--ion-color-azul-oscuro);\\n  margin: 10px 0px;\\n}\\n\\n.contener-columna-centrar {\\n  width: 20%;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.contener-columna-centrar .precio {\\n  font-family: var(--ion-font-family);\\n  font-weight: bold;\\n  color: #5b5b5f;\\n  font-size: 14px;\\n}\\n\\n.producto-carrito {\\n  display: -webkit-inline-box;\\n  text-align: center;\\n  vertical-align: middle;\\n}\\n\\n.contenedor-columna {\\n  width: 50%;\\n}\\n\\n.contenedor-columna .nombre-producto, .contenedor-columna .subtotal {\\n  font-family: var(--ion-font-family);\\n  font-weight: bold;\\n  color: #5b5b5f;\\n  font-size: 12px;\\n}\\n\\n.button-content {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  padding: 0px 20px;\\n}\\n\\nion-button {\\n  font-size: 0.7rem;\\n  line-height: 0px;\\n  width: 35%;\\n  height: 2.2rem;\\n}\\n\\n.btn-cancelar {\\n  --background: var(--ion-color-gris-oscuro);\\n}\\n\\n.btn-registro {\\n  --background: var(--ion-color-naranja-oscuro);\\n}\\n\\n.registro {\\n  margin: 0 auto;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaGlzdG9yaWFsL2RldGFsbGUtaGlzdG9yaWFsL0Q6XFxnaXRcXENhYnV0b0Zyb250L3NyY1xcYXBwXFxoaXN0b3JpYWxcXGRldGFsbGUtaGlzdG9yaWFsXFxkZXRhbGxlLWhpc3RvcmlhbC5wYWdlLnNjc3MiLCJzcmMvYXBwL2hpc3RvcmlhbC9kZXRhbGxlLWhpc3RvcmlhbC9kZXRhbGxlLWhpc3RvcmlhbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwyQ0FBMkM7QUNDL0M7O0FEQ0E7RUFDSSxpQkFBaUI7RUFDakIsaUJBQWlCO0FDRXJCOztBREFBO0VBQ0ksd0JBQXdCO0FDRzVCOztBRERBO0VBQ0ksaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixtQ0FBbUM7RUFDbkMsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQ0l0Qjs7QUREQTtFQUNJLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsbUNBQW1DO0VBQ25DLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osWUFBWTtFQUNaLHVCQUF1QjtBQ0kzQjs7QURERTtFQUNBLHNCQUFzQjtBQ0l4Qjs7QUREQTtFQUNJLGdCQUFlO0FDSW5COztBREZBO0VBQ0ksMkJBQTJCO0VBQzNCLGFBQWE7RUFDYixVQUFVO0FDS2Q7O0FEUkE7RUFLUSxhQUFhO0FDT3JCOztBREhBO0VBQ0ksOEJBQThCO0VBQzlCLGFBQWE7RUFDYixVQUFVO0FDTWQ7O0FEVEE7RUFLUSxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLG1DQUFtQztFQUNuQyxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FDUXhCOztBREhBO0VBQ0ksY0FBYztFQUNkLGdCQUFnQjtBQ01wQjs7QURSQTtFQUlRLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsV0FBVTtFQUNWLFlBQVk7RUFDWixtQkFBb0I7QUNRNUI7O0FEaEJBO0VBV1EsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixrQkFBbUI7RUFDbkIsY0FBYztFQUNkLG1DQUFrQztBQ1MxQzs7QUROQTtFQUNJLG1CQUFtQjtBQ1N2Qjs7QURMQTtFQUNJLGNBQWM7RUFDZCxnQkFBZ0I7QUNRcEI7O0FEVkE7RUFJUSxpQkFBaUI7RUFDakIsY0FBYztFQUNkLHNDQUFzQztFQUN0QyxVQUFVO0VBQ1YsbUJBQW1CO0FDVTNCOztBRGxCQTtFQVdRLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osa0JBQW1CO0VBQ25CLGNBQWM7RUFDZCxtQ0FBa0M7QUNXMUM7O0FEUkE7RUFDSSxtQkFBbUI7QUNXdkI7O0FEUEE7RUFDSSxpQkFBaUI7QUNVckI7O0FEUEE7RUFDSSxVQUFVO0VBQ1YsYUFBYTtFQUNiLHVCQUF1QjtBQ1UzQjs7QURiQTtFQUtRLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixlQUFlO0VBQ2YsNkJBQTZCO0VBQzdCLG1DQUFtQztBQ1kzQzs7QURSQTtFQUNJLGFBQWE7RUFDYixxQkFBcUI7RUFDckIsNkJBQTZCO0VBQzdCLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWiw4Q0FBOEM7RUFDOUMsZ0JBQWdCO0FDV3BCOztBRFRBO0VBQ0ksVUFBVTtFQUNWLGFBQWE7RUFDYix1QkFBdUI7QUNZM0I7O0FEZkE7RUFLUSxtQ0FBbUM7RUFDbkMsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxlQUFlO0FDY3ZCOztBRFZBO0VBQ0ksMkJBQTJCO0VBQzNCLGtCQUFrQjtFQUNsQixzQkFBc0I7QUNhMUI7O0FEVkE7RUFDSSxVQUFVO0FDYWQ7O0FEZEE7RUFHUSxtQ0FBbUM7RUFDbkMsaUJBQWlCO0VBQ2pCLGNBQWE7RUFDYixlQUFlO0FDZXZCOztBRFpBO0VBQ0ksYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLGlCQUFpQjtBQ2VyQjs7QURiQTtFQUNJLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsVUFBVTtFQUNWLGNBQWM7QUNnQmxCOztBRGJBO0VBQ0ksMENBQWE7QUNnQmpCOztBRGRBO0VBQ0ksNkNBQWE7QUNpQmpCOztBRGZBO0VBQ0ksY0FBYztFQUNkLGlCQUFpQjtFQUNqQixvQkFBb0I7QUNrQnhCIiwiZmlsZSI6InNyYy9hcHAvaGlzdG9yaWFsL2RldGFsbGUtaGlzdG9yaWFsL2RldGFsbGUtaGlzdG9yaWFsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIip7XHJcbiAgICBmb250LWZhbWlseTogJ015cmlhZFByb1NlbWlib2xkJyAhaW1wb3J0YW50O1xyXG59XHJcbi5jb250ZW5lZG9yLXBhZ2V7XHJcbiAgICBwYWRkaW5nOiA2cHggMzBweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG59XHJcbi5jb250ZW5lZG9ye1xyXG4gICAgbWFyZ2luOiAxNXB4IDBweCAwcHggMHB4O1xyXG59XHJcbi50aXR1bG97XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2VyO1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDBweDtcclxufVxyXG5cclxuLmRpdi1oaXN0b3JpYWx7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJveC1zaGFkb3c6IDNweCAzcHggM3B4IDNweCAjYzJjMmMyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGhlaWdodDogNjVweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAuYnRuLWVzdGFibGVjaW1pZW50b3tcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gIFxyXG4gIH1cclxuLmNvbnRlbmVyLWhpc3RvcmlhbHtcclxuICAgIHBhZGRpbmc6N3B4IDBweDtcclxufVxyXG4uY29udGVuZXItY29sdW1uYUl7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgd2lkdGg6IDIwJTtcclxuICAgIGltZ3tcclxuICAgICAgICB3aWR0aDogMi4ycmVtO1xyXG4gICAgfVxyXG59XHJcblxyXG4uY29udGVuZXItY29sdW1uYXtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogNjUlO1xyXG4gICAgLm5vbWJyZS1oaXN0b3JpYWx7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDJweDtcclxuICAgICAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IFxyXG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuLmNhbXBvc3tcclxuICAgIGRpc3BsYXk6IHRhYmxlO1xyXG4gICAgbWFyZ2luOiA1cHggYXV0bztcclxuICAgIC5sZWZ0IHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogM3Z3O1xyXG4gICAgICAgIGNvbG9yOmdyYXk7XHJcbiAgICAgICAgd2lkdGg6IDIwcmVtO1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6ICAxMHB4O1xyXG4gICAgfVxyXG4gICAgLnJpZ2h0IHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICAgIHdpZHRoOiA2NSU7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAgMTBweDtcclxuICAgICAgICBmb250LXNpemU6IDR2dztcclxuICAgICAgICBjb2xvcjp2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pXHJcbiAgICB9XHJcbn1cclxuLmNhbXBvcyA+IGlvbi1sYWJlbHtcclxuICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcbn1cclxuXHJcblxyXG4udmFsb3Jlc3tcclxuICAgIGRpc3BsYXk6IHRhYmxlO1xyXG4gICAgbWFyZ2luOiA1cHggYXV0bztcclxuICAgIC5sZWZ0IHtcclxuICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgICBmb250LXNpemU6IDN2dztcclxuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW5hcmFuamEtb3NjdXJvKTtcclxuICAgICAgICB3aWR0aDogNzUlO1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XHJcbiAgICB9XHJcbiAgICAucmlnaHQge1xyXG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgd2lkdGg6IDIwcmVtO1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogIDEwcHg7XHJcbiAgICAgICAgZm9udC1zaXplOiA0dnc7XHJcbiAgICAgICAgY29sb3I6dmFyKC0taW9uLWNvbG9yLWF6dWwtb3NjdXJvKVxyXG4gICAgfVxyXG59XHJcbi52YWxvcmVzID4gaW9uLWxhYmVse1xyXG4gICAgZGlzcGxheTogdGFibGUtY2VsbDtcclxufVxyXG5cclxuXHJcbi5jb250ZW5lci1kYXRvc3tcclxuICAgIG1hcmdpbjogMTBweCAyMHB4OztcclxufVxyXG5cclxuLmNvbnRlbmVkb3ItY2VudHJve1xyXG4gICAgd2lkdGg6IDIwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIC5jYW50aWRhZHtcclxuICAgICAgICB3aWR0aDogMjBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGhlaWdodDogMjBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICBib3JkZXI6IHNvbGlkIDFweCBncmF5O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWF6dWwtb3NjdXJvKTtcclxuICAgIH1cclxufVxyXG5cclxuLmRpdi1wcm9kdWN0b3tcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAwcHggMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBoZWlnaHQ6IDgwcHg7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xyXG4gICAgbWFyZ2luOiAxMHB4IDBweDtcclxufVxyXG4uY29udGVuZXItY29sdW1uYS1jZW50cmFye1xyXG4gICAgd2lkdGg6IDIwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIC5wcmVjaW97XHJcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWlvbi1mb250LWZhbWlseSk7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgY29sb3I6ICM1YjViNWY7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4ucHJvZHVjdG8tY2Fycml0b3tcclxuICAgIGRpc3BsYXk6IC13ZWJraXQtaW5saW5lLWJveDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ICAgIFxyXG59XHJcblxyXG4uY29udGVuZWRvci1jb2x1bW5he1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIC5ub21icmUtcHJvZHVjdG8sIC5zdWJ0b3RhbHtcclxuICAgICAgICBmb250LWZhbWlseTogdmFyKC0taW9uLWZvbnQtZmFtaWx5KTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICBjb2xvcjojNWI1YjVmO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIH1cclxufVxyXG4uYnV0dG9uLWNvbnRlbnR7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogMHB4IDIwcHg7XHJcbn1cclxuaW9uLWJ1dHRvbntcclxuICAgIGZvbnQtc2l6ZTogMC43cmVtO1xyXG4gICAgbGluZS1oZWlnaHQ6IDBweDtcclxuICAgIHdpZHRoOiAzNSU7XHJcbiAgICBoZWlnaHQ6IDIuMnJlbTtcclxuXHJcbn1cclxuLmJ0bi1jYW5jZWxhcntcclxuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWdyaXMtb3NjdXJvKTtcclxufVxyXG4uYnRuLXJlZ2lzdHJve1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbmFyYW5qYS1vc2N1cm8pO1xyXG59XHJcbi5yZWdpc3Ryb3tcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcclxufSIsIioge1xuICBmb250LWZhbWlseTogJ015cmlhZFByb1NlbWlib2xkJyAhaW1wb3J0YW50O1xufVxuXG4uY29udGVuZWRvci1wYWdlIHtcbiAgcGFkZGluZzogNnB4IDMwcHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG4uY29udGVuZWRvciB7XG4gIG1hcmdpbjogMTVweCAwcHggMHB4IDBweDtcbn1cblxuLnRpdHVsbyB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IGxhcmdlcjtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59XG5cbi5kaXYtaGlzdG9yaWFsIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYm94LXNoYWRvdzogM3B4IDNweCAzcHggM3B4ICNjMmMyYzI7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIGhlaWdodDogNjVweDtcbiAgbWFyZ2luOiBhdXRvO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmJ0bi1lc3RhYmxlY2ltaWVudG8ge1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4uY29udGVuZXItaGlzdG9yaWFsIHtcbiAgcGFkZGluZzogN3B4IDBweDtcbn1cblxuLmNvbnRlbmVyLWNvbHVtbmFJIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogMjAlO1xufVxuXG4uY29udGVuZXItY29sdW1uYUkgaW1nIHtcbiAgd2lkdGg6IDIuMnJlbTtcbn1cblxuLmNvbnRlbmVyLWNvbHVtbmEge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHdpZHRoOiA2NSU7XG59XG5cbi5jb250ZW5lci1jb2x1bW5hIC5ub21icmUtaGlzdG9yaWFsIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XG4gIG1hcmdpbi1ib3R0b206IDJweDtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmNhbXBvcyB7XG4gIGRpc3BsYXk6IHRhYmxlO1xuICBtYXJnaW46IDVweCBhdXRvO1xufVxuXG4uY2FtcG9zIC5sZWZ0IHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgZm9udC1zaXplOiAzdnc7XG4gIGNvbG9yOiBncmF5O1xuICB3aWR0aDogMjByZW07XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG5cbi5jYW1wb3MgLnJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgd2lkdGg6IDY1JTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBmb250LXNpemU6IDR2dztcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XG59XG5cbi5jYW1wb3MgPiBpb24tbGFiZWwge1xuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xufVxuXG4udmFsb3JlcyB7XG4gIGRpc3BsYXk6IHRhYmxlO1xuICBtYXJnaW46IDVweCBhdXRvO1xufVxuXG4udmFsb3JlcyAubGVmdCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBmb250LXNpemU6IDN2dztcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1uYXJhbmphLW9zY3Vybyk7XG4gIHdpZHRoOiA3NSU7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG5cbi52YWxvcmVzIC5yaWdodCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIHdpZHRoOiAyMHJlbTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBmb250LXNpemU6IDR2dztcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XG59XG5cbi52YWxvcmVzID4gaW9uLWxhYmVsIHtcbiAgZGlzcGxheTogdGFibGUtY2VsbDtcbn1cblxuLmNvbnRlbmVyLWRhdG9zIHtcbiAgbWFyZ2luOiAxMHB4IDIwcHg7XG59XG5cbi5jb250ZW5lZG9yLWNlbnRybyB7XG4gIHdpZHRoOiAyMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uY29udGVuZWRvci1jZW50cm8gLmNhbnRpZGFkIHtcbiAgd2lkdGg6IDIwcHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyOiBzb2xpZCAxcHggZ3JheTtcbiAgZm9udC1zaXplOiAxM3B4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1henVsLW9zY3Vybyk7XG59XG5cbi5kaXYtcHJvZHVjdG8ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiAwcHggMjBweDtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgaGVpZ2h0OiA4MHB4O1xuICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItYXp1bC1vc2N1cm8pO1xuICBtYXJnaW46IDEwcHggMHB4O1xufVxuXG4uY29udGVuZXItY29sdW1uYS1jZW50cmFyIHtcbiAgd2lkdGg6IDIwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5jb250ZW5lci1jb2x1bW5hLWNlbnRyYXIgLnByZWNpbyB7XG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1pb24tZm9udC1mYW1pbHkpO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICM1YjViNWY7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnByb2R1Y3RvLWNhcnJpdG8ge1xuICBkaXNwbGF5OiAtd2Via2l0LWlubGluZS1ib3g7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cblxuLmNvbnRlbmVkb3ItY29sdW1uYSB7XG4gIHdpZHRoOiA1MCU7XG59XG5cbi5jb250ZW5lZG9yLWNvbHVtbmEgLm5vbWJyZS1wcm9kdWN0bywgLmNvbnRlbmVkb3ItY29sdW1uYSAuc3VidG90YWwge1xuICBmb250LWZhbWlseTogdmFyKC0taW9uLWZvbnQtZmFtaWx5KTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjNWI1YjVmO1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5idXR0b24tY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDBweCAyMHB4O1xufVxuXG5pb24tYnV0dG9uIHtcbiAgZm9udC1zaXplOiAwLjdyZW07XG4gIGxpbmUtaGVpZ2h0OiAwcHg7XG4gIHdpZHRoOiAzNSU7XG4gIGhlaWdodDogMi4ycmVtO1xufVxuXG4uYnRuLWNhbmNlbGFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZ3Jpcy1vc2N1cm8pO1xufVxuXG4uYnRuLXJlZ2lzdHJvIHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbmFyYW5qYS1vc2N1cm8pO1xufVxuXG4ucmVnaXN0cm8ge1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZy10b3A6IDIwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { NavigationExtras,ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ModalController, AlertController } from '@ionic/angular';\r\nimport { IncorrectoPage } from '../../aviso/incorrecto/incorrecto.page';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { HistorialService } from 'src/app/servicios/historial.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { PerfilService } from 'src/app/servicios/perfil.service';\r\nimport { TarjetaService } from 'src/app/servicios/tarjeta.service';\r\nimport { CorrectoPage } from 'src/app/aviso/correcto/correcto.page';\r\nimport {CalificarPage} from 'src/app/calificar/calificar.page'\r\n\r\n@Component({\r\n  selector: 'app-detalle-historial',\r\n  templateUrl: './detalle-historial.page.html',\r\n  styleUrls: ['./detalle-historial.page.scss'],\r\n})\r\nexport class DetalleHistorialPage implements OnInit {\r\n  id:any;\r\n  historial:any;\r\n  loading:any;\r\n  productos: any;\r\n  ofertas: any;\r\n  combos: any;\r\n  cupones: any;\r\n  perfil:any;\r\n  transaction:any;\r\n  usuario_id;\r\n\r\n  constructor(\r\n    public loadingCtrl: LoadingController,\r\n    public modalController: ModalController,\r\n    public alertCtrl: AlertController,\r\n    private storage: Storage,\r\n    private route: ActivatedRoute, private router: Router,\r\n    public historialService: HistorialService,\r\n    private perfilService: PerfilService,\r\n    private tarjetaService: TarjetaService\r\n  \r\n  ) { \r\n    this.route.queryParams.subscribe(params => {\r\n      if (this.router.getCurrentNavigation().extras.state) {\r\n        this.id = this.router.getCurrentNavigation().extras.state.id;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.buscar(this.id);\r\n    this.storage.get('id').then((val) => {\r\n      if (val != null) {\r\n        this.usuario_id = val;\r\n      }\r\n    });\r\n    this.storage.get('perfil').then((value)=>{\r\n      console.log(value);\r\n      if(value==null){\r\n        this.storage.get('correo').then((val) => {\r\n          if (val != null) {\r\n            this.perfilService.getPerfil(val).subscribe(\r\n              data => {\r\n                this.perfil = data[0];\r\n                console.log(data);\r\n                if (this.perfil.telefono == \"NONE\") {\r\n                  this.perfil.telefono = \"\";\r\n                }\r\n                if (this.perfil.direccion == \"NONE\") {\r\n                  this.perfil.direccion = \"\";\r\n                }      \r\n                if (Object.keys(this.perfil).length === 0) {\r\n                  this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n                }else{\r\n                  this.storage.set('perfil',this.perfil);\r\n                }\r\n\r\n              },\r\n              err => {\r\n                this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n              }\r\n            );\r\n          } \r\n          \r\n        });\r\n      }else{\r\n        this.perfil=value;\r\n      }\r\n    });\r\n  }\r\n\r\n  async buscar(id) {\r\n    await this.showLoading2();\r\n    this.historialService.getPedido(id)\r\n      .pipe(\r\n        finalize(async () => {\r\n          await this.loading.dismiss();\r\n        })\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          console.log(data);\r\n          this.historial = data[\"pedido\"][0];\r\n          this.productos = data[\"productos\"]\r\n          this.ofertas = data[\"ofertas\"]\r\n          this.combos = data[\"combos\"]\r\n          this.cupones = data[\"cupones\"]\r\n          if(!this.historial.pagado && this.historial.tipo_pago == \"Tarjeta\"){\r\n            this.storage.get('tokenTarjeta').then((val) => {\r\n              this.historial.token = val + \"\";\r\n            });\r\n          }\r\n          if(this.historial.pagado && this.historial.tipo_pago == \"Tarjeta\"){\r\n            this.transaction = data[\"transaccion\"][0]\r\n            console.log(this.transaction.transaccion)\r\n          }\r\n          if (Object.keys(this.historial).length === 0) {\r\n            this.mensajeIncorrecto(\"Historial vacío\", \"No ha realizado pedidos\")\r\n          }\r\n        },\r\n        err => {\r\n          this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n        }\r\n      );\r\n  }\r\n\r\n  async cancelar(id_pedido, id) {\r\n    await this.showLoading2();\r\n    const info = {\r\n      'id': id,\r\n      'pedido': id_pedido\r\n    }\r\n    this.historialService.cancelarPedido(info)\r\n      .pipe(\r\n        finalize(async () => {\r\n          await this.loading.dismiss();\r\n        })\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          console.log(data);\r\n          if (data.valid == \"ok\") {\r\n            if(this.historial.pagado && this.historial.tipo_pago == \"Tarjeta\"){\r\n              this.refund()\r\n            }\r\n            this.regresar()\r\n          }else{\r\n            this.mensajeIncorrecto(\"Pedido no puede cancelarse\", \"Su pedido ha sido enviado\")\r\n          }\r\n        },\r\n        err => {\r\n          this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n        }\r\n      );\r\n  }\r\n\r\n  async anular(id_pedido,id){\r\n    this.presentConfirm('¿Desea anular esta compra?','No','Si') .then(res => {\r\n      if (res === 'ok') {\r\n        this.cancelar(id_pedido,id);\r\n      }\r\n    });\r\n  }\r\n\r\n  async presentConfirm(message: any,cancelText: any,okText: any): Promise<any> {\r\n    return new Promise(async (resolve) => {\r\n      const alert = await this.alertCtrl.create({\r\n        message: message,\r\n        cssClass: 'alertClass',\r\n        buttons: [\r\n          {\r\n            text: okText,\r\n            handler: (ok) => {\r\n              resolve('ok');\r\n            }\r\n          },\r\n          {\r\n            text: cancelText,\r\n            handler: (cancel) => {\r\n              resolve('cancel');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      alert.present();\r\n    });\r\n  }\r\n\r\n  async refund(){\r\n    await this.showLoading2();\r\n    let info = {\r\n      \"transaction\": {\r\n        \"id\": this.transaction.transaccion\r\n      }\r\n    }\r\n    console.log(info);\r\n    this.tarjetaService.devolver(info)\r\n      .pipe(\r\n        finalize(async () => {\r\n          await this.loading.dismiss();\r\n        })\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          console.log(data);\r\n        },\r\n        err => {\r\n          this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n        }\r\n      );\r\n  }\r\n\r\n  async pagar(id){\r\n    await this.showLoading2();\r\n    let info = {\r\n      \"card\": {\r\n        \"token\": this.historial.token\r\n      },\r\n      \"user\": {\r\n        \"id\": this.usuario_id + \"\",\r\n        \"email\": this.perfil.correo\r\n      },\r\n      \"order\": {\r\n        \"amount\": this.historial.total,\r\n        \"description\": \"Approved transaction\",\r\n        \"dev_reference\": this.historial.id_pedido + \"\",\r\n        \"vat\": Number(this.historial.iva.toFixed(2)) \r\n      }\r\n    }\r\n    console.log(info);\r\n    this.tarjetaService.pagar(info)\r\n      .pipe(\r\n        finalize(async () => {\r\n          await this.loading.dismiss();\r\n        })\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          console.log(data);\r\n          if(data.transaction.status==\"success\"){\r\n            this.pagado(this.historial.id_pedido,data.transaction.id)\r\n          }\r\n        },\r\n        err => {\r\n          this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n        }\r\n      );\r\n  }\r\n\r\n  async pagado(id_pedido,transaccion) {\r\n    await this.showLoading2();\r\n    let info = {\r\n      \"pedido\": id_pedido,\r\n      \"transaccion\": transaccion\r\n    }\r\n    console.log(info);\r\n    this.historialService.pagarPedido(info)\r\n      .pipe(\r\n        finalize(async () => {\r\n          await this.loading.dismiss();\r\n        })\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          console.log(data);          \r\n          this.mensajeCorrecto(\"Pago exitoso\", \"Su pedido ha sido pagado con exito\");\r\n          this.regresar();\r\n        },\r\n        err => {\r\n          this.mensajeIncorrecto(\"Algo Salio mal\", \"Fallo en la conexión\")\r\n        }\r\n      );\r\n\r\n  }\r\n\r\n  async calificar(id){\r\n    const modal = await this.modalController.create({\r\n      component: CalificarPage,\r\n      cssClass: 'confirm-modal',\r\n      componentProps: {\r\n        'pedido': id\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async mensajeIncorrecto(titulo: string, mensaje: string) {\r\n    const modal = await this.modalController.create({\r\n      component: IncorrectoPage,\r\n      cssClass: 'IncorrectoProducto',\r\n      componentProps: {\r\n        'titulo': titulo,\r\n        'mensaje': mensaje\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async mensajeCorrecto(titulo: string, mensaje: string) {\r\n    const modal = await this.modalController.create({\r\n      component: CorrectoPage,\r\n      cssClass: 'CorrectoProducto',\r\n      componentProps: {\r\n        'titulo': titulo,\r\n        'mensaje': mensaje\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async showLoading2() {\r\n    this.loading = await this.loadingCtrl.create({\r\n      message: 'Loading.....'\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n  regresar(){\r\n    this.router.navigate(['/footer/historial']);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}